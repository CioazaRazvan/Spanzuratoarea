<!DOCTYPE html>
<html>
<head>
  <img src="images/image0.png" alt="My test image"  width="200" height="200" id="hangman0"/>
</head>
    <body>
        <h1></h1>
        <label for="name">Insert a letter:</label>
        <input name="searchTxt" type="text" maxlength="512" id="searchTxt" class="searchField"/>
        <button type="button" onclick="pickLetter()">Add</button>  
        <script>
          let word = "hanging";
          let mistakes = 0;
          let letterGuessed = 0;
          let lengthWord = word.length;
          let checkLength = 0;
          let str = [" "];

          function pickLetter(clickedId) {
              let letter = "";
              letter += document.getElementById("searchTxt").value;
              let aux = 0;
              for (let i = 0; i < str.length; ++i) {
                  if (str[i] == letter[0]) {
                      ++aux;
                  }
              }
              str += letter;
              if (aux == 0) {
                  let guessLetter = 0;
                  for (let i = 0; i < lengthWord; ++i) {
                      if (word[i] == letter) {
                          ++guessLetter;
                      }
                  }
                  if (guessLetter > 0) {
                      checkLength += guessLetter;
                      if (checkLength == lengthWord) {
                          alert("Ai ghicit toate literele cuvantului. Cuvantul este: " + word);
                      } else {
                          alert("Litera ,," + letter + "'' apare de " + guessLetter + " ori in cuvant");
                      }
                  } else {
                      ++mistakes;
                      if (mistakes >= 6) {
                          alert("Game Over!");
                      } else {
                          let tries = 6 - mistakes;
                          alert("Litera ,," + letter + "'' nu apare in cuvant. Mai ai " + tries + " incercari");
                      }
                  }
                  document.getElementById("hangman0").src = "images/image" + mistakes + ".png";
              } else {
                  alert("Litera a mai fost introdusa");
              }
          }
        </script>
    </body>
</html>
