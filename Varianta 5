<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>
    <body>
        <div class="card-body">
        <br>
        <label for="name">Insert a letter:</label>
        <input name="searchTxt" type="text" maxlength="512" id="searchTxt" class="searchField"/>
        <button style="background-color:#7ac8df" onclick="pickLetter()">Add</button>  
        <h1></h1>
        <button onload="" style="height:50px;width:300px;background-color:yellow" id="btn0" ></button>  
        </div>
        <script>
          let mistakes = 0;
          let checkLength = 0;
          let str = [" "];
          let wordAux = "";
          var things = ['hanging', 'warrior', 'christmas', 'elephant', 'summer'];
          var thing = things[Math.floor(Math.random() * things.length)];
          for (let i = 0; i < thing.length; ++i) {
              wordAux += "*";
          }
          btn0.textContent = wordAux;

          function pickLetter(clickedId) {
              String.prototype.replaceAt = function(index, replacement) {
                  if (index >= this.length)
                      return this.valueOf();
                  return this.substring(0, index) + replacement + this.substring(index + 1);
              }
              let letter = "";
              letter += document.getElementById("searchTxt").value;
              if (letter.length == 1) {
                  let aux = 0;
                  for (let i = 0; i < str.length; ++i) {
                      if (str[i] == letter[0])
                          ++aux;
                  }
                  str += letter;
                  if (aux == 0) {
                      let guessLetter = 0;
                      for (let i = 0; i <= wordAux.length - 1; ++i) {
                          if (thing[i] == letter) {
                              wordAux = wordAux.replaceAt(i, letter);
                              btn0.textContent = wordAux;
                              ++guessLetter;
                          }
                      }
                      if (guessLetter > 0) {
                          checkLength += guessLetter;
                          if (checkLength == wordAux.length)
                              alert("Ai ghicit toate literele cuvantului. Cuvantul este: " + thing);
                          else
                              alert("Litera ,," + letter + "'' apare de " + guessLetter + " ori in cuvant");
                      } else {
                          ++mistakes;
                          if (mistakes >= 6)
                              alert("Game Over!");
                          else {
                              let tries = 6 - mistakes;
                              alert("Litera ,," + letter + "'' nu apare in cuvant. Mai ai " + tries + " incercari");
                          }
                      }
                  } else
                      alert("Litera a mai fost introdusa");
              }
          }
        </script>
    </body>
</html>
